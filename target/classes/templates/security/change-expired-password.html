<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CachU</title>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/css/font-awesome/font-awesome.css}" rel="stylesheet">
    <link th:href="@{/css/animate.css}" rel="stylesheet">
    <link th:href="@{/css/style.css}" rel="stylesheet">
</head>

<body class="gray-bg">

<div class="passwordBox animated fadeInDown">
    <div class="row">

        <div class="col-md-12">
            <div class="ibox-content">

                <h2 class="font-bold">[[#{changePassword}]]</h2>

                <p>
                    [[#{security.changeExpiredPassword.message}]]
                </p>

                <div class="row">

                    <div class="col-lg-12">
                        <form class="m-t" role="form" th:object="${changeExpiredPasswordData}"
                              th:action="@{/security/change-exp-password}" method="post">
                            <div class="form-group">
                                <input type="text" th:field="*{login}" class="form-control" placeholder="#{login}"
                                       required=""/>
                                <th:block th:if="${#fields.hasErrors('login')}">
                                    <label class="error" th:each="err : ${#fields.errors('login')}"
                                           th:text="${err}"></label>
                                </th:block>
                            </div>
                            <div class="form-group">
                                <input type="password" th:field="*{prevPassword}" class="form-control"
                                       placeholder="#{currentPassword}" required=""/>
                                <th:block th:if="${#fields.hasErrors('prevPassword')}">
                                    <label class="error" th:each="err : ${#fields.errors('prevPassword')}"
                                           th:text="${err}"></label>
                                </th:block>
                            </div>
                            <div class="form-group">
                                <input type="password" th:field="*{password}" class="form-control"
                                       placeholder="#{newPassword}" required=""/>
                                <th:block th:if="${#fields.hasErrors('password')}">
                                    <label class="error" th:each="err : ${#fields.errors('password')}"
                                           th:text="${err}"></label>
                                </th:block>
                            </div>
                            <div class="form-group">
                                <input type="password" th:field="*{passwordConfirmation}" class="form-control"
                                       placeholder="#{passwordConfirmation}" required=""/>
                                <th:block th:if="${#fields.hasErrors('passwordConfirmation')}">
                                    <label class="error" th:each="err : ${#fields.errors('passwordConfirmation')}"
                                           th:text="${err}"></label>
                                </th:block>
                            </div>
                            <th:block th:if="${#fields.hasErrors()}">
                                <label class="error" th:each="err : ${#fields.detailedErrors()}"
                                       th:if="${err.code eq 'AssertTrue'}" th:text="#{__${err.message}__}"></label>
                            </th:block>
                            <th:block th:if="${changeExpiredPasswordError}">
                                <label class="error">[[#{security.changeExpiredPassword.error}]]</label>
                            </th:block>
                            <button type="submit" class="btn btn-primary block full-width m-b">[[#{changePassword}]]</button>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr/>
    <div class="row">
        <div class="col-md-6">

        </div>
        <div class="col-md-6 text-right">
            <small>CashU Â© 2020</small>
        </div>
    </div>
</div>

</body>

</html>
